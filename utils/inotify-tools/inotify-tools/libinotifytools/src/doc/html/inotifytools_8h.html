<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>libinotifytools: inotifytools/inotifytools.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libinotifytools
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_6f9162800bb6dbbe5c86171e8602f383.html">inotifytools</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">inotifytools.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>inotifytools library public interface.  
<a href="#details">More...</a></p>

<p><a href="inotifytools_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7efdc91ac4b26c374d287aa11b3af994"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#a7efdc91ac4b26c374d287aa11b3af994">inotifytools_cleanup</a> ()</td></tr>
<tr class="memitem:a313399ccce221c8a5862892396d1a8ec"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#a313399ccce221c8a5862892396d1a8ec">inotifytools_error</a> ()</td></tr>
<tr class="memitem:a744bb8792d8ea8edbaf8f845fe1d9307"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#a744bb8792d8ea8edbaf8f845fe1d9307">inotifytools_event_to_str</a> (int events)</td></tr>
<tr class="memitem:a317a5b1ea969f570a49c4549b22e7e71"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#a317a5b1ea969f570a49c4549b22e7e71">inotifytools_event_to_str_sep</a> (int events, char sep)</td></tr>
<tr class="memitem:afd4dcc915248f2d0b0ae708e88611186"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#afd4dcc915248f2d0b0ae708e88611186">inotifytools_filename_from_wd</a> (int wd)</td></tr>
<tr class="memitem:a6ed4450ad545bde13a1328e53ed8cf6d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#a6ed4450ad545bde13a1328e53ed8cf6d">inotifytools_fprintf</a> (FILE *file, struct inotify_event *event, char *fmt)</td></tr>
<tr class="memitem:a1d96f4600d1187670304b83439b0cd05"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#a1d96f4600d1187670304b83439b0cd05">inotifytools_get_max_queued_events</a> ()</td></tr>
<tr class="memitem:a9e8052a5fb77768cec9fff4aed9b9eb0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#a9e8052a5fb77768cec9fff4aed9b9eb0">inotifytools_get_max_user_instances</a> ()</td></tr>
<tr class="memitem:ae3b79f096737ef3c7e176324514b4556"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#ae3b79f096737ef3c7e176324514b4556">inotifytools_get_max_user_watches</a> ()</td></tr>
<tr class="memitem:aaf934e6f66eb02f3c6e72d65c9bd610c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#aaf934e6f66eb02f3c6e72d65c9bd610c">inotifytools_get_num_watches</a> ()</td></tr>
<tr class="memitem:a70bf8afcf5dce7d324d3a1a4cf48871a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#a70bf8afcf5dce7d324d3a1a4cf48871a">inotifytools_get_stat_by_filename</a> (char const *filename, int event)</td></tr>
<tr class="memitem:a4d5002bd8504b70faed608886e0fa307"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#a4d5002bd8504b70faed608886e0fa307">inotifytools_get_stat_by_wd</a> (int wd, int event)</td></tr>
<tr class="memitem:af3de070bdf428d548e0b54f5e9043dcc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#af3de070bdf428d548e0b54f5e9043dcc">inotifytools_get_stat_total</a> (int event)</td></tr>
<tr class="memitem:a07f4f258123feb8864f89663a2785ef0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#a07f4f258123feb8864f89663a2785ef0">inotifytools_ignore_events_by_regex</a> (char const *pattern, int flags)</td></tr>
<tr class="memitem:a3765c7874caeb0732926f34ae3c3cd63"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#a3765c7874caeb0732926f34ae3c3cd63">inotifytools_initialize</a> ()</td></tr>
<tr class="memitem:ae25cb60b12e3555795f55fb8c55db692"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#ae25cb60b12e3555795f55fb8c55db692">inotifytools_initialize_stats</a> ()</td></tr>
<tr class="memitem:a2e121fde1cac7875d25a7e6c3bc57e1a"><td class="memItemLeft" align="right" valign="top">struct inotify_event *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#a2e121fde1cac7875d25a7e6c3bc57e1a">inotifytools_next_event</a> (int timeout)</td></tr>
<tr class="memitem:a188fd24a5d8ff504e1a3616ded73a4c1"><td class="memItemLeft" align="right" valign="top">struct inotify_event *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#a188fd24a5d8ff504e1a3616ded73a4c1">inotifytools_next_events</a> (int timeout, int num_events)</td></tr>
<tr class="memitem:ac2c06dd72f39a6145ea3b6661378df31"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#ac2c06dd72f39a6145ea3b6661378df31">inotifytools_printf</a> (struct inotify_event *event, char *fmt)</td></tr>
<tr class="memitem:a2a4ca66a9d8b0825d4272cd5003a9a0f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#a2a4ca66a9d8b0825d4272cd5003a9a0f">inotifytools_remove_watch_by_filename</a> (char const *filename)</td></tr>
<tr class="memitem:a771f60d2232201c691fe725d5cf7e019"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#a771f60d2232201c691fe725d5cf7e019">inotifytools_remove_watch_by_wd</a> (int wd)</td></tr>
<tr class="memitem:ac6f5ecf6f3d854535132fe9790db008d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#ac6f5ecf6f3d854535132fe9790db008d">inotifytools_replace_filename</a> (char const *oldname, char const *newname)</td></tr>
<tr class="memitem:a764239f33bd2a092c445362e75828181"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#a764239f33bd2a092c445362e75828181">inotifytools_set_filename_by_filename</a> (char const *oldname, char const *newname)</td></tr>
<tr class="memitem:af80acc2952c748a80641926ff222571c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#af80acc2952c748a80641926ff222571c">inotifytools_set_filename_by_wd</a> (int wd, char const *filename)</td></tr>
<tr class="memitem:af4528ccdf013b4c86e8f7fe4db88244a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#af4528ccdf013b4c86e8f7fe4db88244a">inotifytools_set_printf_timefmt</a> (char *fmt)</td></tr>
<tr class="memitem:a92f2dc66af4fd01b09b64b6813686282"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#a92f2dc66af4fd01b09b64b6813686282">inotifytools_snprintf</a> (char *out, int size, struct inotify_event *event, char *fmt)</td></tr>
<tr class="memitem:aabf4cbafd50012f6e35b32a052677c74"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#aabf4cbafd50012f6e35b32a052677c74">inotifytools_sprintf</a> (char *out, struct inotify_event *event, char *fmt)</td></tr>
<tr class="memitem:ac5f03415912fa505bcb7f2caf9273b45"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#ac5f03415912fa505bcb7f2caf9273b45">inotifytools_str_to_event</a> (char const *event)</td></tr>
<tr class="memitem:a7e26c94c983d93669813c439883b334f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#a7e26c94c983d93669813c439883b334f">inotifytools_str_to_event_sep</a> (char const *event, char sep)</td></tr>
<tr class="memitem:af9ce33904730bcafbda98c35b1ba4931"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#af9ce33904730bcafbda98c35b1ba4931">inotifytools_watch_file</a> (char const *filename, int events)</td></tr>
<tr class="memitem:a88c6a7db52fbd9310ef72d2588c9c1df"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#a88c6a7db52fbd9310ef72d2588c9c1df">inotifytools_watch_files</a> (char const *filenames[], int events)</td></tr>
<tr class="memitem:a583ff8d0e64f527af4232814ad493dce"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#a583ff8d0e64f527af4232814ad493dce">inotifytools_watch_recursively</a> (char const *path, int events)</td></tr>
<tr class="memitem:a20981c7f1410d458b5ef0654b9adf1e4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#a20981c7f1410d458b5ef0654b9adf1e4">inotifytools_watch_recursively_with_exclude</a> (char const *path, int events, char const **exclude_list)</td></tr>
<tr class="memitem:a594e7f515b392c07c4f1f4eeffcda6c3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inotifytools_8h.html#a594e7f515b392c07c4f1f4eeffcda6c3">inotifytools_wd_from_filename</a> (char const *filename)</td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>inotifytools library public interface. </p>
<dl class="section author"><dt>Author</dt><dd>Rohan McGovern, &lt;<a href="#" onclick="location.href='mai'+'lto:'+'roh'+'an'+'@mc'+'go'+'ver'+'n.'+'id.'+'au'; return false;">rohan<span style="display: none;">.nosp@m.</span>@mcg<span style="display: none;">.nosp@m.</span>overn<span style="display: none;">.nosp@m.</span>.id.<span style="display: none;">.nosp@m.</span>au</a>&gt;</dd></dl>
<p>This library provides a thin layer on top of the basic inotify interface. The primary use is to easily set up watches on files, potentially many files at once, and read events without having to deal with low-level I/O. There are also several utility functions for inotify-related string formatting.</p>
<p>To use this library, you must <code>#include</code> the following headers accordingly: </p>
<ul>
<li><code>&lt;<a class="el" href="inotifytools_8h.html" title="inotifytools library public interface.">inotifytools/inotifytools.h</a>&gt;</code> - to use any functions declared in this file. </li>
<li><code>&lt;inotifytools/inotify.h&gt;</code> - to have the <code>inotify_event</code> type defined and the numeric IN_* event constants defined. If <code>&lt;sys/inotify.h&gt;</code> was present on your system at compile time, this header simply includes that. Otherwise it includes <code>&lt;inotifytools/inotify-nosys.h&gt;</code>.</li>
</ul>
<h1><a class="anchor" id="example"></a>
Example</h1>
<p>This very simple program recursively watches the entire directory tree under its working directory for events, then prints them out with a timestamp. </p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="inotifytools_8h.html" title="inotifytools library public interface.">inotifytools/inotifytools.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;inotifytools/inotify.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * libinotifytools example program.</span></div>
<div class="line"><span class="comment"> * Compile with gcc -linotifytools example.c</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">        <span class="comment">// initialize and watch the entire directory tree from the current working</span></div>
<div class="line">        <span class="comment">// directory downwards for all events</span></div>
<div class="line">        <span class="keywordflow">if</span> ( !<a class="code" href="inotifytools_8h.html#a3765c7874caeb0732926f34ae3c3cd63">inotifytools_initialize</a>()</div>
<div class="line">          || !<a class="code" href="inotifytools_8h.html#a583ff8d0e64f527af4232814ad493dce">inotifytools_watch_recursively</a>( <span class="stringliteral">&quot;/home/erik/OpenDropbox&quot;</span>, IN_MODIFY | IN_CREATE | IN_DELETE | IN_DONT_FOLLOW ) ) {</div>
<div class="line">                fprintf(stderr, <span class="stringliteral">&quot;%s\n&quot;</span>, strerror( <a class="code" href="inotifytools_8h.html#a313399ccce221c8a5862892396d1a8ec">inotifytools_error</a>() ) );</div>
<div class="line">                <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// set time format to 24 hour time, HH:MM:SS</span></div>
<div class="line">        <a class="code" href="inotifytools_8h.html#af4528ccdf013b4c86e8f7fe4db88244a">inotifytools_set_printf_timefmt</a>( <span class="stringliteral">&quot;%T&quot;</span> );</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Output all events as &quot;&lt;timestamp&gt; &lt;path&gt; &lt;events&gt;&quot;</span></div>
<div class="line">        <span class="keyword">struct </span>inotify_event * <span class="keyword">event</span> = <a class="code" href="inotifytools_8h.html#a2e121fde1cac7875d25a7e6c3bc57e1a">inotifytools_next_event</a>( -1 );</div>
<div class="line">        <span class="keywordflow">while</span> ( event ) {</div>
<div class="line">                <a class="code" href="inotifytools_8h.html#ac2c06dd72f39a6145ea3b6661378df31">inotifytools_printf</a>( event, <span class="stringliteral">&quot;%T %w%f %e\n&quot;</span> );</div>
<div class="line">                <span class="keyword">event</span> = <a class="code" href="inotifytools_8h.html#a2e121fde1cac7875d25a7e6c3bc57e1a">inotifytools_next_event</a>( -1 );</div>
<div class="line">        }</div>
<div class="line">}</div>
<div class="line"></div>
</div><!-- fragment --><h1><a class="anchor" id="events"></a>
Events</h1>
<dl class="section note"><dt>Note</dt><dd>This section comes almost verbatim from the inotify(7) man page.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>The information here applies to inotify in Linux 2.6.17. Older versions of Linux may not support all the events described here.</dd></dl>
<p>The following numeric events can be specified to functions in inotifytools, and may be present in events returned through inotifytools:</p>
<ul>
<li><code>IN_ACCESS</code> - File was accessed (read) <em>*</em> </li>
<li><code>IN_ATTRIB</code> - Metadata changed (permissions, timestamps, extended attributes, etc.) <em>*</em> </li>
<li><code>IN_CLOSE_WRITE</code> - File opened for writing was closed <em>*</em> </li>
<li><code>IN_CLOSE_NOWRITE</code> - File not opened for writing was closed <em>*</em> </li>
<li><code>IN_CREATE</code> - File/directory created in watched directory <em>*</em> </li>
<li><code>IN_DELETE</code> - File/directory deleted from watched directory <em>*</em> </li>
<li><code>IN_DELETE_SELF</code> - Watched file/directory was itself deleted </li>
<li><code>IN_MODIFY</code> - File was modified <em>*</em> </li>
<li><code>IN_MOVE_SELF</code> - Watched file/directory was itself moved </li>
<li><code>IN_MOVED_FROM</code> - File moved out of watched directory <em>*</em> </li>
<li><code>IN_MOVED_TO</code> - File moved into watched directory <em>*</em> </li>
<li><code>IN_OPEN</code> - File was opened <em>*</em> </li>
</ul>
<p>When monitoring a directory, the events marked with an asterisk <em>*</em> above can occur for files in the directory, in which case the name field in the returned inotify_event structure identifies the name of the file within the directory.</p>
<p>The IN_ALL_EVENTS macro is defined as a bit mask of all of the above events.</p>
<p>Two additional convenience macros are IN_MOVE, which equates to IN_MOVED_FROM|IN_MOVED_TO, and IN_CLOSE which equates to IN_CLOSE_WRITE|IN_CLOSE_NOWRITE.</p>
<p>The following bitmasks can also be provided when creating a new watch:</p>
<ul>
<li><code>IN_DONT_FOLLOW</code> - Don't dereference pathname if it is a symbolic link </li>
<li><code>IN_MASK_ADD</code> - Add (OR) events to watch mask for this pathname if it already exists (instead of replacing mask) </li>
<li><code>IN_ONESHOT</code> - Monitor pathname for one event, then remove from watch list </li>
<li><code>IN_ONLYDIR</code> - Only watch pathname if it is a directory</li>
</ul>
<p>The following bitmasks may occur in events generated by a watch:</p>
<ul>
<li><code>IN_IGNORED</code> - Watch was removed explicitly (inotifytools_remove_watch_*) or automatically (file was deleted, or file system was unmounted) </li>
<li><code>IN_ISDIR</code> - Subject of this event is a directory </li>
<li><code>IN_Q_OVERFLOW</code> - Event queue overflowed (wd is -1 for this event) </li>
<li><code>IN_UNMOUNT</code> - File system containing watched object was unmounted</li>
</ul>
<h1><a class="anchor" id="TODO"></a>
TODO list</h1>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>Improve wd/filename mapping. Currently there is no explicit code for handling different filenames mapping to the same inode (and hence, wd). gamin's approach sounds good: let the user watch an inode using several different filenames, and when an event occurs on the inode, generate an event for each filename. </dd></dl>

<p>Definition in file <a class="el" href="inotifytools_8h_source.html">inotifytools.h</a>.</p>
</div><h2>Function Documentation</h2>
<a class="anchor" id="a7efdc91ac4b26c374d287aa11b3af994"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inotifytools_cleanup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close inotify and free the memory used by inotifytools.</p>
<p>If you call this function, you must call <a class="el" href="inotifytools_8h.html#a3765c7874caeb0732926f34ae3c3cd63">inotifytools_initialize()</a> again before any other functions can be used. </p>

<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l00326">326</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l00326">inotifytools_cleanup()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l00326">inotifytools_cleanup()</a>.</p>

</div>
</div>
<a class="anchor" id="a313399ccce221c8a5862892396d1a8ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inotifytools_error </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the last error which occurred.</p>
<p>When a function fails, call this to find out why. The returned value is a typical <em>errno</em> value, the meaning of which depends on context. For example, if <a class="el" href="inotifytools_8h.html#af9ce33904730bcafbda98c35b1ba4931">inotifytools_watch_file()</a> fails because you attempt to watch a file which doesn't exist, this function will return <em>ENOENT</em>.</p>
<dl class="section return"><dt>Returns</dt><dd>an error code. </dd></dl>

<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l01594">1594</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l01594">inotifytools_error()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l01594">inotifytools_error()</a>.</p>

</div>
</div>
<a class="anchor" id="a744bb8792d8ea8edbaf8f845fe1d9307"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* inotifytools_event_to_str </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>events</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert event from integer form to string form (as in inotify.h).</p>
<p>The returned string is from static storage; subsequent calls to this function or <a class="el" href="inotifytools_8h.html#a317a5b1ea969f570a49c4549b22e7e71">inotifytools_event_to_str_sep()</a> will overwrite it. Don't free() it and make a copy if you want to keep it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">events</td><td>OR'd event(s) in integer form as defined in inotify.h. See section <a class="el" href="inotifytools_8h.html#events">Events</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>comma-separated string representing the event(s), in no particular order</dd></dl>
<h1><a class="anchor" id="example"></a>
Example</h1>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> eventnum == IN_MODIFY | IN_CLOSE | IN_CREATE;</div>
<div class="line"><span class="keywordtype">char</span> * eventstr = <a class="code" href="inotifytools_8h.html#a744bb8792d8ea8edbaf8f845fe1d9307">inotifytools_event_to_str</a>( eventnum );</div>
<div class="line">printf( <span class="stringliteral">&quot;%s\n&quot;</span>, eventstr );</div>
<div class="line"><span class="comment">// outputs something like MODIFY,CLOSE,CREATE but order not guaranteed.</span></div>
</div><!-- fragment --> 
<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l00628">628</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l00628">inotifytools_event_to_str()</a>, and <a class="el" href="inotifytools_8c_source.html#l00656">inotifytools_event_to_str_sep()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l00628">inotifytools_event_to_str()</a>, and <a class="el" href="inotifytools_8c_source.html#l01820">inotifytools_snprintf()</a>.</p>

</div>
</div>
<a class="anchor" id="a317a5b1ea969f570a49c4549b22e7e71"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* inotifytools_event_to_str_sep </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>events</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>sep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert event from integer form to string form (as in inotify.h).</p>
<p>The returned string is from static storage; subsequent calls to this function or <a class="el" href="inotifytools_8h.html#a744bb8792d8ea8edbaf8f845fe1d9307">inotifytools_event_to_str()</a> will overwrite it. Don't free() it and make a copy if you want to keep it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">events</td><td>OR'd event(s) in integer form as defined in inotify.h</td></tr>
    <tr><td class="paramname">sep</td><td>character used to separate events</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><em>sep</em> separated string representing the event(s), in no particular order. If the integer is not made of OR'ed inotify events, the string returned will be a hexadecimal representation of the integer.</dd></dl>
<h1><a class="anchor" id="example"></a>
Example</h1>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> eventnum == IN_MODIFY | IN_CLOSE | IN_CREATE;</div>
<div class="line"><span class="keywordtype">char</span> * eventstr = <a class="code" href="inotifytools_8h.html#a317a5b1ea969f570a49c4549b22e7e71">inotifytools_event_to_str_sep</a>( eventnum, <span class="charliteral">&#39;-&#39;</span> );</div>
<div class="line">printf( <span class="stringliteral">&quot;%s\n&quot;</span>, eventstr );</div>
<div class="line"><span class="comment">// outputs something like MODIFY-CLOSE-CREATE but order not guaranteed.</span></div>
</div><!-- fragment --> 
<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l00656">656</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l00656">inotifytools_event_to_str_sep()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l00628">inotifytools_event_to_str()</a>, <a class="el" href="inotifytools_8c_source.html#l00656">inotifytools_event_to_str_sep()</a>, and <a class="el" href="inotifytools_8c_source.html#l01820">inotifytools_snprintf()</a>.</p>

</div>
</div>
<a class="anchor" id="afd4dcc915248f2d0b0ae708e88611186"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* inotifytools_filename_from_wd </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>wd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the filename used to establish a watch.</p>
<p><a class="el" href="inotifytools_8h.html#a3765c7874caeb0732926f34ae3c3cd63">inotifytools_initialize()</a> must be called before this function can be used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wd</td><td>watch descriptor.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>filename associated with watch descriptor <em>wd</em>, or NULL if <em>wd</em> is not associated with any filename.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This always returns the filename which was used to establish a watch. This means the filename may be a relative path. If this isn't desired, then always use absolute paths when watching files. Also, this is not necessarily the filename which might have been used to cause an event on the file, since inotify is inode based and there can be many filenames mapping to a single inode. Finally, if a file is moved or renamed while being watched, the filename returned will still be the original name. </dd></dl>

<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l00763">763</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l00763">inotifytools_filename_from_wd()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l00763">inotifytools_filename_from_wd()</a>, and <a class="el" href="inotifytools_8c_source.html#l01820">inotifytools_snprintf()</a>.</p>

</div>
</div>
<a class="anchor" id="a6ed4450ad545bde13a1328e53ed8cf6d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inotifytools_fprintf </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inotify_event *&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>fmt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Print a string to a file using an inotify_event and a printf-like syntax. The string written will only ever be up to 4096 characters in length.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>file to print to</td></tr>
    <tr><td class="paramname">event</td><td>the event to use to construct a string.</td></tr>
    <tr><td class="paramname">fmt</td><td>the format string used to construct a string.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of characters written, or -1 if an error occurs.</dd></dl>
<h1><a class="anchor" id="syntax"></a>
Format string syntax</h1>
<p>The following tokens will be replaced with the specified string: </p>
<ul>
<li><code>%w</code> - This will be replaced with the name of the Watched file on which an event occurred. </li>
<li><code>%f</code> - When an event occurs within a directory, this will be replaced with the name of the File which caused the event to occur. Otherwise, this will be replaced with an empty string. </li>
<li><code>%e</code> - Replaced with the Event(s) which occurred, comma-separated. </li>
<li><code>%Xe</code> - Replaced with the Event(s) which occurred, separated by whichever character is in the place of `X'. </li>
<li><code>%T</code> - Replaced by the current Time in the format specified by the string previously passed to <a class="el" href="inotifytools_8h.html#af4528ccdf013b4c86e8f7fe4db88244a">inotifytools_set_printf_timefmt()</a>, or replaced with an empty string if that function has never been called.</li>
</ul>
<h1><a class="anchor" id="example"></a>
Example</h1>
<div class="fragment"><div class="line"><span class="comment">// suppose this is the only file watched.</span></div>
<div class="line"><a class="code" href="inotifytools_8h.html#af9ce33904730bcafbda98c35b1ba4931">inotifytools_watch_file</a>( <span class="stringliteral">&quot;mydir/&quot;</span>, IN_CLOSE );</div>
<div class="line"></div>
<div class="line"><span class="comment">// wait until an event occurs</span></div>
<div class="line"><span class="keyword">struct </span>inotify_event * <span class="keyword">event</span> = <a class="code" href="inotifytools_8h.html#a2e121fde1cac7875d25a7e6c3bc57e1a">inotifytools_next_event</a>( -1 );</div>
<div class="line"></div>
<div class="line"><a class="code" href="inotifytools_8h.html#a6ed4450ad545bde13a1328e53ed8cf6d">inotifytools_fprintf</a>(stderr, event, <span class="stringliteral">&quot;in %w, file %f had event(s): %.e\n&quot;</span>);</div>
<div class="line"><span class="comment">// suppose the file &#39;myfile&#39; in mydir was read from and closed.  Then,</span></div>
<div class="line"><span class="comment">// this prints to standard error something like:</span></div>
<div class="line"><span class="comment">// &quot;in mydir/, file myfile had event(s): CLOSE_NOWRITE.CLOSE.ISDIR\n&quot;</span></div>
</div><!-- fragment --> 
<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l01711">1711</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l01711">inotifytools_fprintf()</a>, and <a class="el" href="inotifytools_8c_source.html#l01769">inotifytools_sprintf()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l01711">inotifytools_fprintf()</a>, and <a class="el" href="inotifytools_8c_source.html#l01666">inotifytools_printf()</a>.</p>

</div>
</div>
<a class="anchor" id="a1d96f4600d1187670304b83439b0cd05"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inotifytools_get_max_queued_events </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the event queue size.</p>
<p>This setting can also be read or modified by accessing the file <em>/proc/sys/fs/inotify/max_queued_events</em>.</p>
<dl class="section return"><dt>Returns</dt><dd>the maximum number of events which will be queued in the kernel. </dd></dl>

<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l01959">1959</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l01959">inotifytools_get_max_queued_events()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l01959">inotifytools_get_max_queued_events()</a>.</p>

</div>
</div>
<a class="anchor" id="a9e8052a5fb77768cec9fff4aed9b9eb0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inotifytools_get_max_user_instances </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the maximum number of user instances of inotify.</p>
<p>This setting can also be read or modified by accessing the file <em>/proc/sys/fs/inotify/max_user_instances</em>.</p>
<dl class="section return"><dt>Returns</dt><dd>the maximum number of inotify file descriptors a single user can obtain. </dd></dl>

<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l01974">1974</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l01974">inotifytools_get_max_user_instances()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l01974">inotifytools_get_max_user_instances()</a>.</p>

</div>
</div>
<a class="anchor" id="ae3b79f096737ef3c7e176324514b4556"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inotifytools_get_max_user_watches </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the maximum number of user watches.</p>
<p>This setting can also be read or modified by accessing the file <em>/proc/sys/fs/inotify/max_user_watches</em>.</p>
<dl class="section return"><dt>Returns</dt><dd>the maximum number of inotify watches a single user can obtain per inotify instance. </dd></dl>

<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l01989">1989</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l01989">inotifytools_get_max_user_watches()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l01989">inotifytools_get_max_user_watches()</a>.</p>

</div>
</div>
<a class="anchor" id="aaf934e6f66eb02f3c6e72d65c9bd610c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inotifytools_get_num_watches </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the number of watches set up through libinotifytools.</p>
<dl class="section return"><dt>Returns</dt><dd>number of watches set up by <a class="el" href="inotifytools_8h.html#af9ce33904730bcafbda98c35b1ba4931">inotifytools_watch_file()</a>, <a class="el" href="inotifytools_8h.html#a88c6a7db52fbd9310ef72d2588c9c1df">inotifytools_watch_files()</a> and <a class="el" href="inotifytools_8h.html#a583ff8d0e64f527af4232814ad493dce">inotifytools_watch_recursively()</a>. </dd></dl>

<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l01620">1620</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l01620">inotifytools_get_num_watches()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l01620">inotifytools_get_num_watches()</a>.</p>

</div>
</div>
<a class="anchor" id="a70bf8afcf5dce7d324d3a1a4cf48871a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inotifytools_get_stat_by_filename </td>
          <td>(</td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get statistics by a particular filename.</p>
<p><a class="el" href="inotifytools_8h.html#ae25cb60b12e3555795f55fb8c55db692">inotifytools_initialize_stats()</a> must be called before this function can be used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>name of file to get stats for.</td></tr>
    <tr><td class="paramname">event</td><td>a single inotify event to get statistics for, or 0 for event total. See section <a class="el" href="inotifytools_8h.html#events">Events</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of times the event specified by <em>event</em> has occurred on the file specified by <em>filename</em> since stats collection was enabled, or -1 if the file is not being watched or <em>event</em> is invalid.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The filename specified must always be the original name used to establish the watch. </dd></dl>

<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l01578">1578</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l01578">inotifytools_get_stat_by_filename()</a>, <a class="el" href="inotifytools_8c_source.html#l01501">inotifytools_get_stat_by_wd()</a>, and <a class="el" href="inotifytools_8c_source.html#l00786">inotifytools_wd_from_filename()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l01578">inotifytools_get_stat_by_filename()</a>.</p>

</div>
</div>
<a class="anchor" id="a4d5002bd8504b70faed608886e0fa307"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inotifytools_get_stat_by_wd </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>wd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get statistics by a particular watch descriptor.</p>
<p><a class="el" href="inotifytools_8h.html#ae25cb60b12e3555795f55fb8c55db692">inotifytools_initialize_stats()</a> must be called before this function can be used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wd</td><td>watch descriptor to get stats for.</td></tr>
    <tr><td class="paramname">event</td><td>a single inotify event to get statistics for, or 0 for event total. See section <a class="el" href="inotifytools_8h.html#events">Events</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of times the event specified by <em>event</em> has occurred on the watch descriptor specified by <em>wd</em> since stats collection was enabled, or -1 if <em>event</em> or <em>wd</em> are invalid. </dd></dl>

<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l01501">1501</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l01501">inotifytools_get_stat_by_wd()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l01578">inotifytools_get_stat_by_filename()</a>, and <a class="el" href="inotifytools_8c_source.html#l01501">inotifytools_get_stat_by_wd()</a>.</p>

</div>
</div>
<a class="anchor" id="af3de070bdf428d548e0b54f5e9043dcc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inotifytools_get_stat_total </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get statistics aggregated across all watches.</p>
<p><a class="el" href="inotifytools_8h.html#ae25cb60b12e3555795f55fb8c55db692">inotifytools_initialize_stats()</a> must be called before this function can be used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>a single inotify event to get statistics for, or 0 for event total. See section <a class="el" href="inotifytools_8h.html#events">Events</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of times the event specified by <em>event</em> has occurred over all watches since stats collection was enabled, or -1 if <em>event</em> is not a valid event. </dd></dl>

<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l01524">1524</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l01524">inotifytools_get_stat_total()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l01524">inotifytools_get_stat_total()</a>.</p>

</div>
</div>
<a class="anchor" id="a07f4f258123feb8864f89663a2785ef0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inotifytools_ignore_events_by_regex </td>
          <td>(</td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>pattern</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Ignore inotify events matching a particular regular expression.</p>
<p><em>pattern</em> is a regular expression and <em>flags</em> is a bitwise combination of POSIX regular expression flags.</p>
<p>On future calls to <a class="el" href="inotifytools_8h.html#a188fd24a5d8ff504e1a3616ded73a4c1">inotifytools_next_events()</a> or <a class="el" href="inotifytools_8h.html#a2e121fde1cac7875d25a7e6c3bc57e1a">inotifytools_next_event()</a>, the regular expression is executed on the filename of files on which events occur. If the regular expression matches, the matched event will be ignored. </p>

<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l02006">2006</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l02006">inotifytools_ignore_events_by_regex()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l02006">inotifytools_ignore_events_by_regex()</a>.</p>

</div>
</div>
<a class="anchor" id="a3765c7874caeb0732926f34ae3c3cd63"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inotifytools_initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialise inotify.</p>
<p>You must call this function before using any function which adds or removes watches or attempts to access any information about watches.</p>
<dl class="section return"><dt>Returns</dt><dd>1 on success, 0 on failure. On failure, the error can be obtained from <a class="el" href="inotifytools_8h.html#a313399ccce221c8a5862892396d1a8ec">inotifytools_error()</a>. </dd></dl>

<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l00281">281</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l00281">inotifytools_initialize()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l00281">inotifytools_initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="ae25cb60b12e3555795f55fb8c55db692"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inotifytools_initialize_stats </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize or reset statistics.</p>
<p><a class="el" href="inotifytools_8h.html#a3765c7874caeb0732926f34ae3c3cd63">inotifytools_initialize()</a> must be called before this function can be used.</p>
<p>When this function is called, all subsequent events will be tallied. Statistics can then be obtained via the <em>inotifytools_get_stat_*</em> functions.</p>
<p>After the first call, subsequent calls to this function will reset the event tallies to 0. </p>

<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l00418">418</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l00418">inotifytools_initialize_stats()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l00418">inotifytools_initialize_stats()</a>.</p>

</div>
</div>
<a class="anchor" id="a2e121fde1cac7875d25a7e6c3bc57e1a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct inotify_event* inotifytools_next_event </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the next inotify event to occur.</p>
<p><a class="el" href="inotifytools_8h.html#a3765c7874caeb0732926f34ae3c3cd63">inotifytools_initialize()</a> must be called before this function can be used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout</td><td>maximum amount of time, in seconds, to wait for an event. If <em>timeout</em> is 0, the function is non-blocking. If <em>timeout</em> is negative, the function will block until an event occurs.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to an inotify event, or NULL if function timed out before an event occurred. The event is located in static storage and it may be overwritten in subsequent calls; do not call free() on it, and make a copy if you want to keep it.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Your program should call this function or <a class="el" href="inotifytools_8h.html#a188fd24a5d8ff504e1a3616ded73a4c1">inotifytools_next_events()</a> frequently; between calls to this function, inotify events will be queued in the kernel, and eventually the queue will overflow and you will miss some events.</dd>
<dd>
If the function <a class="el" href="inotifytools_8h.html#a07f4f258123feb8864f89663a2785ef0">inotifytools_ignore_events_by_regex()</a> has been called with a non-NULL parameter, this function will not return on events which match the regular expression passed to that function. However, the <em>timeout</em> period begins again each time a matching event occurs. </dd></dl>

<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l01040">1040</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l01040">inotifytools_next_event()</a>, and <a class="el" href="inotifytools_8c_source.html#l01094">inotifytools_next_events()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l01040">inotifytools_next_event()</a>.</p>

</div>
</div>
<a class="anchor" id="a188fd24a5d8ff504e1a3616ded73a4c1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct inotify_event* inotifytools_next_events </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_events</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the next inotify events to occur.</p>
<p><a class="el" href="inotifytools_8h.html#a3765c7874caeb0732926f34ae3c3cd63">inotifytools_initialize()</a> must be called before this function can be used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout</td><td>maximum amount of time, in seconds, to wait for an event. If <em>timeout</em> is 0, the function is non-blocking. If <em>timeout</em> is negative, the function will block until an event occurs.</td></tr>
    <tr><td class="paramname">num_events</td><td>approximate number of inotify events to wait for until this function returns. Use this for buffering reads to inotify if you expect to receive large amounts of events. You are NOT guaranteed that this number of events will actually be read; instead, you are guaranteed that the number of bytes read from inotify is <em>num_events</em> * sizeof(struct inotify_event). Obviously the larger this number is, the greater the latency between when an event occurs and when you'll know about it. May not be larger than 4096.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to an inotify event, or NULL if function timed out before an event occurred or <em>num_events</em> &lt; 1. The event is located in static storage and it may be overwritten in subsequent calls; do not call free() on it, and make a copy if you want to keep it. When <em>num_events</em> is greater than 1, this will return a pointer to the first event only, and you MUST call this function again to get pointers to subsequent events; don't try to add to the pointer to find the next events or you will run into trouble.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>You may actually get different events with different values of <em>num_events</em>. This is because inotify does some in-kernel filtering of duplicate events, meaning some duplicate events will not be reported if <em>num_events</em> &gt; 1. For some purposes this is fine, but for others (such as gathering accurate statistics on numbers of event occurrences) you must call this function with <em>num_events</em> = 1, or simply use <a class="el" href="inotifytools_8h.html#a2e121fde1cac7875d25a7e6c3bc57e1a">inotifytools_next_event()</a>.</dd>
<dd>
Your program should call this function or <a class="el" href="inotifytools_8h.html#a188fd24a5d8ff504e1a3616ded73a4c1">inotifytools_next_events()</a> frequently; between calls to this function, inotify events will be queued in the kernel, and eventually the queue will overflow and you will miss some events.</dd>
<dd>
If the function <a class="el" href="inotifytools_8h.html#a07f4f258123feb8864f89663a2785ef0">inotifytools_ignore_events_by_regex()</a> has been called with a non-NULL parameter, this function will not return on events which match the regular expression passed to that function. However, the <em>timeout</em> period begins again each time a matching event occurs. </dd></dl>

<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l01094">1094</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l01094">inotifytools_next_events()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l01040">inotifytools_next_event()</a>, and <a class="el" href="inotifytools_8c_source.html#l01094">inotifytools_next_events()</a>.</p>

</div>
</div>
<a class="anchor" id="ac2c06dd72f39a6145ea3b6661378df31"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inotifytools_printf </td>
          <td>(</td>
          <td class="paramtype">struct inotify_event *&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>fmt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Print a string to standard out using an inotify_event and a printf-like syntax. The string written will only ever be up to 4096 characters in length.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>the event to use to construct a string.</td></tr>
    <tr><td class="paramname">fmt</td><td>the format string used to construct a string.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of characters written, or -1 if an error occurs.</dd></dl>
<h1><a class="anchor" id="syntax"></a>
Format string syntax</h1>
<p>The following tokens will be replaced with the specified string: </p>
<ul>
<li><code>%w</code> - This will be replaced with the name of the Watched file on which an event occurred. </li>
<li><code>%f</code> - When an event occurs within a directory, this will be replaced with the name of the File which caused the event to occur. Otherwise, this will be replaced with an empty string. </li>
<li><code>%e</code> - Replaced with the Event(s) which occurred, comma-separated. </li>
<li><code>%Xe</code> - Replaced with the Event(s) which occurred, separated by whichever character is in the place of `X'. </li>
<li><code>%T</code> - Replaced by the current Time in the format specified by the string previously passed to <a class="el" href="inotifytools_8h.html#af4528ccdf013b4c86e8f7fe4db88244a">inotifytools_set_printf_timefmt()</a>, or replaced with an empty string if that function has never been called.</li>
</ul>
<h1><a class="anchor" id="example"></a>
Example</h1>
<div class="fragment"><div class="line"><span class="comment">// suppose this is the only file watched.</span></div>
<div class="line"><a class="code" href="inotifytools_8h.html#af9ce33904730bcafbda98c35b1ba4931">inotifytools_watch_file</a>( <span class="stringliteral">&quot;mydir/&quot;</span>, IN_CLOSE );</div>
<div class="line"></div>
<div class="line"><span class="comment">// wait until an event occurs</span></div>
<div class="line"><span class="keyword">struct </span>inotify_event * <span class="keyword">event</span> = <a class="code" href="inotifytools_8h.html#a2e121fde1cac7875d25a7e6c3bc57e1a">inotifytools_next_event</a>( -1 );</div>
<div class="line"></div>
<div class="line"><a class="code" href="inotifytools_8h.html#ac2c06dd72f39a6145ea3b6661378df31">inotifytools_printf</a>(stderr, event, <span class="stringliteral">&quot;in %w, file %f had event(s): %.e\n&quot;</span>);</div>
<div class="line"><span class="comment">// suppose the file &#39;myfile&#39; in mydir was read from and closed.  Then,</span></div>
<div class="line"><span class="comment">// this prints to standard out something like:</span></div>
<div class="line"><span class="comment">// &quot;in mydir/, file myfile had event(s): CLOSE_NOWRITE.CLOSE.ISDIR\n&quot;</span></div>
</div><!-- fragment --> 
<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l01666">1666</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l01711">inotifytools_fprintf()</a>, and <a class="el" href="inotifytools_8c_source.html#l01666">inotifytools_printf()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l01666">inotifytools_printf()</a>.</p>

</div>
</div>
<a class="anchor" id="a2a4ca66a9d8b0825d4272cd5003a9a0f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inotifytools_remove_watch_by_filename </td>
          <td>(</td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove a watch on a file specified by filename.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>Name of file on which watch should be removed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 on success, 0 on failure. On failure, the error can be obtained from <a class="el" href="inotifytools_8h.html#a313399ccce221c8a5862892396d1a8ec">inotifytools_error()</a>.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The filename specified must always be the original name used to establish the watch. </dd></dl>

<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l00932">932</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l00932">inotifytools_remove_watch_by_filename()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l00932">inotifytools_remove_watch_by_filename()</a>.</p>

</div>
</div>
<a class="anchor" id="a771f60d2232201c691fe725d5cf7e019"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inotifytools_remove_watch_by_wd </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>wd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove a watch on a file specified by watch descriptor.</p>
<p><a class="el" href="inotifytools_8h.html#a3765c7874caeb0732926f34ae3c3cd63">inotifytools_initialize()</a> must be called before this function can be used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wd</td><td>Watch descriptor of watch to be removed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 on success, 0 on failure. If the given watch doesn't exist, returns 1. On failure, the error can be obtained from <a class="el" href="inotifytools_8h.html#a313399ccce221c8a5862892396d1a8ec">inotifytools_error()</a>. </dd></dl>

<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l00909">909</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l00909">inotifytools_remove_watch_by_wd()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l00909">inotifytools_remove_watch_by_wd()</a>.</p>

</div>
</div>
<a class="anchor" id="ac6f5ecf6f3d854535132fe9790db008d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inotifytools_replace_filename </td>
          <td>(</td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>oldname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>newname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Replace a certain filename prefix on all watches.</p>
<p>This function should be used to update filenames for an entire directory tree when a directory is known to have been moved or renamed. At the moment, libinotifytools does not automatically handle this situation.</p>
<p><a class="el" href="inotifytools_8h.html#a3765c7874caeb0732926f34ae3c3cd63">inotifytools_initialize()</a> must be called before this function can be used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">oldname</td><td>Current filename prefix.</td></tr>
    <tr><td class="paramname">newname</td><td>New filename prefix.</td></tr>
  </table>
  </dd>
</dl>
<h1><a class="anchor" id="example"></a>
Example</h1>
<div class="fragment"><div class="line"><span class="comment">// if /home/user1/original_dir is moved to /home/user2/new_dir, then to</span></div>
<div class="line"><span class="comment">// update all watches:</span></div>
<div class="line"><a class="code" href="inotifytools_8h.html#ac6f5ecf6f3d854535132fe9790db008d">inotifytools_replace_filename</a>( <span class="stringliteral">&quot;/home/user1/original_dir&quot;</span>,</div>
<div class="line">                               <span class="stringliteral">&quot;/home/user2/new_dir&quot;</span> );</div>
</div><!-- fragment --> 
<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l00859">859</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l00859">inotifytools_replace_filename()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l00859">inotifytools_replace_filename()</a>.</p>

</div>
</div>
<a class="anchor" id="a764239f33bd2a092c445362e75828181"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inotifytools_set_filename_by_filename </td>
          <td>(</td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>oldname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>newname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the filename for one or more watches with a particular existing filename.</p>
<p>This function should be used to update a filename when a file is known to have been moved or renamed. At the moment, libinotifytools does not automatically handle this situation.</p>
<p><a class="el" href="inotifytools_8h.html#a3765c7874caeb0732926f34ae3c3cd63">inotifytools_initialize()</a> must be called before this function can be used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">oldname</td><td>Current filename.</td></tr>
    <tr><td class="paramname">newname</td><td>New filename. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l00829">829</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l00829">inotifytools_set_filename_by_filename()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l00829">inotifytools_set_filename_by_filename()</a>.</p>

</div>
</div>
<a class="anchor" id="af80acc2952c748a80641926ff222571c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inotifytools_set_filename_by_wd </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>wd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the filename for a particular watch descriptor.</p>
<p>This function should be used to update a filename when a file is known to have been moved or renamed. At the moment, libinotifytools does not automatically handle this situation.</p>
<p><a class="el" href="inotifytools_8h.html#a3765c7874caeb0732926f34ae3c3cd63">inotifytools_initialize()</a> must be called before this function can be used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wd</td><td>Watch descriptor.</td></tr>
    <tr><td class="paramname">filename</td><td>New filename. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l00807">807</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l00807">inotifytools_set_filename_by_wd()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l00807">inotifytools_set_filename_by_wd()</a>.</p>

</div>
</div>
<a class="anchor" id="af4528ccdf013b4c86e8f7fe4db88244a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inotifytools_set_printf_timefmt </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>fmt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set time format for printf functions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fmt</td><td>A format string valid for use with strftime, or NULL. If NULL, time substitutions will no longer be made in printf functions. Note that this format string is not validated at all; using an incorrect format string will cause the printf functions to give incorrect results. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l01947">1947</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l01947">inotifytools_set_printf_timefmt()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l01947">inotifytools_set_printf_timefmt()</a>.</p>

</div>
</div>
<a class="anchor" id="a92f2dc66af4fd01b09b64b6813686282"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inotifytools_snprintf </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inotify_event *&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>fmt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Construct a string using an inotify_event and a printf-like syntax. The string can only ever be up to 4096 characters in length.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">out</td><td>location in which to store string.</td></tr>
    <tr><td class="paramname">size</td><td>maximum amount of characters to write.</td></tr>
    <tr><td class="paramname">event</td><td>the event to use to construct a string.</td></tr>
    <tr><td class="paramname">fmt</td><td>the format string used to construct a string.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of characters written, or -1 if an error occurs.</dd></dl>
<h1><a class="anchor" id="syntax"></a>
Format string syntax</h1>
<p>The following tokens will be replaced with the specified string: </p>
<ul>
<li><code>%w</code> - This will be replaced with the name of the Watched file on which an event occurred. </li>
<li><code>%f</code> - When an event occurs within a directory, this will be replaced with the name of the File which caused the event to occur. Otherwise, this will be replaced with an empty string. </li>
<li><code>%e</code> - Replaced with the Event(s) which occurred, comma-separated. </li>
<li><code>%Xe</code> - Replaced with the Event(s) which occurred, separated by whichever character is in the place of `X'. </li>
<li><code>%T</code> - Replaced by the current Time in the format specified by the string previously passed to <a class="el" href="inotifytools_8h.html#af4528ccdf013b4c86e8f7fe4db88244a">inotifytools_set_printf_timefmt()</a>, or replaced with an empty string if that function has never been called.</li>
</ul>
<h1><a class="anchor" id="example"></a>
Example</h1>
<div class="fragment"><div class="line"><span class="comment">// suppose this is the only file watched.</span></div>
<div class="line"><a class="code" href="inotifytools_8h.html#af9ce33904730bcafbda98c35b1ba4931">inotifytools_watch_file</a>( <span class="stringliteral">&quot;mydir/&quot;</span>, IN_CLOSE );</div>
<div class="line"></div>
<div class="line"><span class="comment">// wait until an event occurs</span></div>
<div class="line"><span class="keyword">struct </span>inotify_event * <span class="keyword">event</span> = <a class="code" href="inotifytools_8h.html#a2e121fde1cac7875d25a7e6c3bc57e1a">inotifytools_next_event</a>( -1 );</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">char</span> mystring[1024];</div>
<div class="line"><a class="code" href="inotifytools_8h.html#a92f2dc66af4fd01b09b64b6813686282">inotifytools_snprintf</a>( mystring, 1024, event,</div>
<div class="line">                       <span class="stringliteral">&quot;in %w, file %f had event(s): %.e\n&quot;</span> );</div>
<div class="line">printf( mystring );</div>
<div class="line"><span class="comment">// suppose the file &#39;myfile&#39; in mydir was written to and closed.  Then,</span></div>
<div class="line"><span class="comment">// this prints something like:</span></div>
<div class="line"><span class="comment">// &quot;in mydir/, file myfile had event(s): CLOSE_WRITE.CLOSE.ISDIR\n&quot;</span></div>
</div><!-- fragment --> 
<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l01820">1820</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l00628">inotifytools_event_to_str()</a>, <a class="el" href="inotifytools_8c_source.html#l00656">inotifytools_event_to_str_sep()</a>, <a class="el" href="inotifytools_8c_source.html#l00763">inotifytools_filename_from_wd()</a>, and <a class="el" href="inotifytools_8c_source.html#l01820">inotifytools_snprintf()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l01820">inotifytools_snprintf()</a>, and <a class="el" href="inotifytools_8c_source.html#l01769">inotifytools_sprintf()</a>.</p>

</div>
</div>
<a class="anchor" id="aabf4cbafd50012f6e35b32a052677c74"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inotifytools_sprintf </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inotify_event *&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>fmt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Construct a string using an inotify_event and a printf-like syntax. The string can only ever be up to 4096 characters in length.</p>
<p>This function will keep writing until it reaches 4096 characters. If your allocated array is not large enough to hold the entire string, your program may crash. <a class="el" href="inotifytools_8h.html#a92f2dc66af4fd01b09b64b6813686282">inotifytools_snprintf()</a> is safer and you should use it where possible.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">out</td><td>location in which to store string.</td></tr>
    <tr><td class="paramname">event</td><td>the event to use to construct a string.</td></tr>
    <tr><td class="paramname">fmt</td><td>the format string used to construct a string.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of characters written, or -1 if an error occurs.</dd></dl>
<h1><a class="anchor" id="syntax"></a>
Format string syntax</h1>
<p>The following tokens will be replaced with the specified string: </p>
<ul>
<li><code>%w</code> - This will be replaced with the name of the Watched file on which an event occurred. </li>
<li><code>%f</code> - When an event occurs within a directory, this will be replaced with the name of the File which caused the event to occur. Otherwise, this will be replaced with an empty string. </li>
<li><code>%e</code> - Replaced with the Event(s) which occurred, comma-separated. </li>
<li><code>%Xe</code> - Replaced with the Event(s) which occurred, separated by whichever character is in the place of `X'. </li>
<li><code>%T</code> - Replaced by the current Time in the format specified by the string previously passed to <a class="el" href="inotifytools_8h.html#af4528ccdf013b4c86e8f7fe4db88244a">inotifytools_set_printf_timefmt()</a>, or replaced with an empty string if that function has never been called.</li>
</ul>
<h1><a class="anchor" id="example"></a>
Example</h1>
<div class="fragment"><div class="line"><span class="comment">// suppose this is the only file watched.</span></div>
<div class="line"><a class="code" href="inotifytools_8h.html#af9ce33904730bcafbda98c35b1ba4931">inotifytools_watch_file</a>( <span class="stringliteral">&quot;mydir/&quot;</span>, IN_CLOSE );</div>
<div class="line"></div>
<div class="line"><span class="comment">// wait until an event occurs</span></div>
<div class="line"><span class="keyword">struct </span>inotify_event * <span class="keyword">event</span> = <a class="code" href="inotifytools_8h.html#a2e121fde1cac7875d25a7e6c3bc57e1a">inotifytools_next_event</a>( -1 );</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">char</span> mystring[1024];</div>
<div class="line"><span class="comment">// hope this doesn&#39;t crash - if filename is really long, might not fit into</span></div>
<div class="line"><span class="comment">// mystring!</span></div>
<div class="line"><a class="code" href="inotifytools_8h.html#aabf4cbafd50012f6e35b32a052677c74">inotifytools_sprintf</a>(mystring, event, <span class="stringliteral">&quot;in %w, file %f had event(s): %.e\n&quot;</span>);</div>
<div class="line">printf( mystring );</div>
<div class="line"><span class="comment">// suppose the file &#39;myfile&#39; in mydir was written to and closed.  Then,</span></div>
<div class="line"><span class="comment">// this prints something like:</span></div>
<div class="line"><span class="comment">// &quot;in mydir/, file myfile had event(s): CLOSE_WRITE.CLOSE.ISDIR\n&quot;</span></div>
</div><!-- fragment --> 
<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l01769">1769</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l01820">inotifytools_snprintf()</a>, and <a class="el" href="inotifytools_8c_source.html#l01769">inotifytools_sprintf()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l01711">inotifytools_fprintf()</a>, and <a class="el" href="inotifytools_8c_source.html#l01769">inotifytools_sprintf()</a>.</p>

</div>
</div>
<a class="anchor" id="ac5f03415912fa505bcb7f2caf9273b45"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inotifytools_str_to_event </td>
          <td>(</td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert comma-separated events from string form to integer form (as in inotify.h).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>a sequence of events in string form as defined in inotify.h without leading IN_ prefix (e.g., MODIFY, ATTRIB), comma-separated. Case insensitive. Can be a single event. Can be empty or NULL. See section <a class="el" href="inotifytools_8h.html#events">Events</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>integer representing the mask specified by <em>event</em>, or 0 if any string in <em>event</em> is empty or NULL, or -1 if any string in <em>event</em> does not match any event.</dd></dl>
<h1><a class="anchor" id="example"></a>
Example</h1>
<div class="fragment"><div class="line"><span class="keywordtype">char</span> * eventstr = <span class="stringliteral">&quot;MODIFY,CLOSE,CREATE&quot;</span>;</div>
<div class="line"><span class="keywordtype">int</span> eventnum = <a class="code" href="inotifytools_8h.html#ac5f03415912fa505bcb7f2caf9273b45">inotifytools_str_to_event</a>( eventstr );</div>
<div class="line"><span class="keywordflow">if</span> ( eventnum == IN_MODIFY | IN_CLOSE | IN_CREATE ) {</div>
<div class="line">   printf( <span class="stringliteral">&quot;This code always gets executed!\n&quot;</span> );</div>
<div class="line">}</div>
</div><!-- fragment --> 
<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l00541">541</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l00541">inotifytools_str_to_event()</a>, and <a class="el" href="inotifytools_8c_source.html#l00471">inotifytools_str_to_event_sep()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l00541">inotifytools_str_to_event()</a>.</p>

</div>
</div>
<a class="anchor" id="a7e26c94c983d93669813c439883b334f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inotifytools_str_to_event_sep </td>
          <td>(</td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>sep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert character separated events from string form to integer form (as in inotify.h).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>a sequence of events in string form as defined in inotify.h without leading IN_ prefix (e.g., MODIFY, ATTRIB), separated by the <em>sep</em> character. Case insensitive. Can be a single event. Can be empty or NULL. See section <a class="el" href="inotifytools_8h.html#events">Events</a>.</td></tr>
    <tr><td class="paramname">sep</td><td>Character used to separate events. <em>sep</em> must not be a character in a-z, A-Z, or _.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>integer representing the mask specified by <em>event</em>, or 0 if any string in <em>event</em> is empty or NULL, or -1 if any string in <em>event</em> does not match any event or <em>sep</em> is invalid.</dd></dl>
<h1><a class="anchor" id="example"></a>
Example</h1>
<div class="fragment"><div class="line"><span class="keywordtype">char</span> * eventstr = <span class="stringliteral">&quot;MODIFY:CLOSE:CREATE&quot;</span>;</div>
<div class="line"><span class="keywordtype">int</span> eventnum = <a class="code" href="inotifytools_8h.html#a7e26c94c983d93669813c439883b334f">inotifytools_str_to_event_sep</a>( eventstr, <span class="charliteral">&#39;:&#39;</span> );</div>
<div class="line"><span class="keywordflow">if</span> ( eventnum == IN_MODIFY | IN_CLOSE | IN_CREATE ) {</div>
<div class="line">   printf( <span class="stringliteral">&quot;This code always gets executed!\n&quot;</span> );</div>
<div class="line">}</div>
</div><!-- fragment --> 
<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l00471">471</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l00471">inotifytools_str_to_event_sep()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l00541">inotifytools_str_to_event()</a>, and <a class="el" href="inotifytools_8c_source.html#l00471">inotifytools_str_to_event_sep()</a>.</p>

</div>
</div>
<a class="anchor" id="af9ce33904730bcafbda98c35b1ba4931"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inotifytools_watch_file </td>
          <td>(</td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>events</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set up a watch on a file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>Absolute or relative path of file to watch.</td></tr>
    <tr><td class="paramname">events</td><td>bitwise ORed inotify events to watch for. See section <a class="el" href="inotifytools_8h.html#events">Events</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 on success, 0 on failure. On failure, the error can be obtained from <a class="el" href="inotifytools_8h.html#a313399ccce221c8a5862892396d1a8ec">inotifytools_error()</a>. </dd></dl>

<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l00955">955</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l00955">inotifytools_watch_file()</a>, and <a class="el" href="inotifytools_8c_source.html#l00977">inotifytools_watch_files()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l00955">inotifytools_watch_file()</a>, and <a class="el" href="inotifytools_8c_source.html#l01284">inotifytools_watch_recursively_with_exclude()</a>.</p>

</div>
</div>
<a class="anchor" id="a88c6a7db52fbd9310ef72d2588c9c1df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inotifytools_watch_files </td>
          <td>(</td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>filenames</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>events</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set up a watch on a list of files.</p>
<p><a class="el" href="inotifytools_8h.html#a3765c7874caeb0732926f34ae3c3cd63">inotifytools_initialize()</a> must be called before this function can be used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filenames</td><td>null-terminated array of absolute or relative paths of files to watch.</td></tr>
    <tr><td class="paramname">events</td><td>bitwise OR'ed inotify events to watch for. See section <a class="el" href="inotifytools_8h.html#events">Events</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 on success, 0 on failure. On failure, the error can be obtained from <a class="el" href="inotifytools_8h.html#a313399ccce221c8a5862892396d1a8ec">inotifytools_error()</a>. </dd></dl>

<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l00977">977</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l00977">inotifytools_watch_files()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l00955">inotifytools_watch_file()</a>, and <a class="el" href="inotifytools_8c_source.html#l00977">inotifytools_watch_files()</a>.</p>

</div>
</div>
<a class="anchor" id="a583ff8d0e64f527af4232814ad493dce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inotifytools_watch_recursively </td>
          <td>(</td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>events</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set up recursive watches on an entire directory tree.</p>
<p><a class="el" href="inotifytools_8h.html#a3765c7874caeb0732926f34ae3c3cd63">inotifytools_initialize()</a> must be called before this function can be used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>path of directory or file to watch. If the path is a directory, every subdirectory will also be watched for the same events up to the maximum readable depth. If the path is a file, the file is watched exactly as if <a class="el" href="inotifytools_8h.html#af9ce33904730bcafbda98c35b1ba4931">inotifytools_watch_file()</a> were used.</td></tr>
    <tr><td class="paramname">events</td><td>Inotify events to watch for. See section <a class="el" href="inotifytools_8h.html#events">Events</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 on success, 0 on failure. On failure, the error can be obtained from <a class="el" href="inotifytools_8h.html#a313399ccce221c8a5862892396d1a8ec">inotifytools_error()</a>. Note that some errors on subdirectories will be ignored; for example, if you watch a directory tree which contains some directories which you do not have access to, those directories will not be watched, but this function will still return 1 if no other errors occur.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function does not attempt to work atomically. If you use this function to watch a directory tree and files or directories are being created or removed within that directory tree, there are no guarantees as to whether or not those files will be watched. </dd></dl>

<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l01248">1248</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l01248">inotifytools_watch_recursively()</a>, and <a class="el" href="inotifytools_8c_source.html#l01284">inotifytools_watch_recursively_with_exclude()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l01248">inotifytools_watch_recursively()</a>.</p>

</div>
</div>
<a class="anchor" id="a20981c7f1410d458b5ef0654b9adf1e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inotifytools_watch_recursively_with_exclude </td>
          <td>(</td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>events</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const **&#160;</td>
          <td class="paramname"><em>exclude_list</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set up recursive watches on an entire directory tree, optionally excluding some directories.</p>
<p><a class="el" href="inotifytools_8h.html#a3765c7874caeb0732926f34ae3c3cd63">inotifytools_initialize()</a> must be called before this function can be used.</p>
<dl class="section author"><dt>Author</dt><dd>UH</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>path of directory or file to watch. If the path is a directory, every subdirectory will also be watched for the same events up to the maximum readable depth. If the path is a file, the file is watched exactly as if <a class="el" href="inotifytools_8h.html#af9ce33904730bcafbda98c35b1ba4931">inotifytools_watch_file()</a> were used.</td></tr>
    <tr><td class="paramname">exclude_list</td><td>NULL terminated path list of directories not to watch. Can be NULL if no paths are to be excluded. Directories may or may not include a trailing '/'.</td></tr>
    <tr><td class="paramname">events</td><td>Inotify events to watch for. See section <a class="el" href="inotifytools_8h.html#events">Events</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 on success, 0 on failure. On failure, the error can be obtained from <a class="el" href="inotifytools_8h.html#a313399ccce221c8a5862892396d1a8ec">inotifytools_error()</a>. Note that some errors on subdirectories will be ignored; for example, if you watch a directory tree which contains some directories which you do not have access to, those directories will not be watched, but this function will still return 1 if no other errors occur.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function does not attempt to work atomically. If you use this function to watch a directory tree and files or directories are being created or removed within that directory tree, there are no guarantees as to whether or not those files will be watched. </dd></dl>

<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l01284">1284</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l00955">inotifytools_watch_file()</a>, and <a class="el" href="inotifytools_8c_source.html#l01284">inotifytools_watch_recursively_with_exclude()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l01248">inotifytools_watch_recursively()</a>, and <a class="el" href="inotifytools_8c_source.html#l01284">inotifytools_watch_recursively_with_exclude()</a>.</p>

</div>
</div>
<a class="anchor" id="a594e7f515b392c07c4f1f4eeffcda6c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inotifytools_wd_from_filename </td>
          <td>(</td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the watch descriptor for a particular filename.</p>
<p><a class="el" href="inotifytools_8h.html#a3765c7874caeb0732926f34ae3c3cd63">inotifytools_initialize()</a> must be called before this function can be used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>file name to find watch descriptor for.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>watch descriptor associated with filename, or -1 if <em>filename</em> is not associated with any watch descriptor.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The filename specified must always be the original name used to establish the watch. </dd></dl>

<p>Definition at line <a class="el" href="inotifytools_8c_source.html#l00786">786</a> of file <a class="el" href="inotifytools_8c_source.html">inotifytools.c</a>.</p>

<p>References <a class="el" href="inotifytools_8c_source.html#l00786">inotifytools_wd_from_filename()</a>.</p>

<p>Referenced by <a class="el" href="inotifytools_8c_source.html#l01578">inotifytools_get_stat_by_filename()</a>, and <a class="el" href="inotifytools_8c_source.html#l00786">inotifytools_wd_from_filename()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jul 26 2012 19:35:26 for libinotifytools by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
